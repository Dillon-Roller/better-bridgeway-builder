(()=>{"use strict";var t={251:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;class s{constructor(t,e,s,i,h="green"){this.x=t,this.y=e,this.width=s,this.height=i,this.color=h}draw(t){t.fillStyle=this.color,t.fillRect(this.x,this.y,this.width,this.height)}onCollisionDetected(){return new s(this.x,this.y,this.width,this.height,"red")}moveUp(){return new s(this.x,this.y-10,this.width,this.height,this.color)}moveDown(){return new s(this.x,this.y+10,this.width,this.height,this.color)}moveLeft(){return new s(this.x-10,this.y,this.width,this.height,this.color)}moveRight(){return new s(this.x+10,this.y,this.width,this.height,this.color)}}e.Player=s},728:(t,e)=>{var s;Object.defineProperty(e,"__esModule",{value:!0}),e.Street=e.Lane=e.Obstacle=e.LaneDirection=void 0,(s=e.LaneDirection||(e.LaneDirection={}))[s.LEFT=-1]="LEFT",s[s.RIGHT=1]="RIGHT";class i{constructor(t,e,s,i,h,n="black"){this.x=t,this.width=e,this.height=s,this.speed=i,this.direction=h,this.color=n}moveObstacle(){const t=this.x+this.speed*this.direction;return new i(t,this.width,this.height,this.speed,this.direction,this.color)}}e.Obstacle=i;class h{constructor(t,e=50,s,i,h=[]){this.direction=t,this.laneWidth=e,this.streetLength=s,this.centerY=i,this.obstacles=h}addObstacle(t){const e=[...this.obstacles,t];return new h(this.direction,this.laneWidth,this.streetLength,this.centerY,e)}updateObstacles(){const t=this.obstacles.map((t=>t.moveObstacle())).filter((t=>-1===this.direction?t.x+t.width>0:t.x<this.streetLength));return new h(this.direction,this.laneWidth,this.streetLength,this.centerY,t)}draw(t){const e=this.centerY-this.laneWidth/2;t.strokeStyle="black",t.lineWidth=2,t.beginPath(),t.moveTo(0,e),t.lineTo(this.streetLength,e),t.stroke(),t.beginPath(),t.moveTo(0,e+this.laneWidth),t.lineTo(this.streetLength,e+this.laneWidth),t.stroke();for(const s of this.obstacles){t.fillStyle=s.color;const i=.75*this.laneWidth,h=i*(s.height/s.width);t.fillRect(s.x,e+(this.laneWidth-h)/2,i,h)}}detectCollision(t,e){const s=this.centerY-this.laneWidth/2;for(const i of this.obstacles)if(t>i.x&&t<i.x+i.width&&e>s+(this.laneWidth-i.height)/2&&e<s+(this.laneWidth-i.height)/2+i.height)return!0;return!1}}e.Lane=h;class n{constructor(t=0,e=600,s=[]){this.topOfStreetY=t,this.streetLength=e,this.lanes=s}addLane(t,e){const s=[...this.lanes,new h(t,e,this.streetLength,this.getCenterY(e))];return new n(this.topOfStreetY,this.streetLength,s)}getCenterY(t){const e=this.getStreetWidth();return this.topOfStreetY+e+t/2}generateObstacles(){const t=Math.floor(Math.random()*this.lanes.length),e=this.lanes.map(((e,s)=>{if(s===t){const t=40,s=3*t,h=-1===e.direction?e.streetLength+s:0-s;return e.addObstacle(new i(h,t,25,5,e.direction))}return e}));return new n(this.topOfStreetY,this.streetLength,e)}updateObstacles(){const t=this.lanes.map((t=>t.updateObstacles()));return new n(this.topOfStreetY,this.streetLength,t)}detectCollision(t,e){for(const s of this.lanes)if(s.detectCollision(t,e))return!0;return!1}draw(t){for(const e of this.lanes)e.draw(t)}getStreetWidth(){return this.lanes.reduce(((t,e)=>t+e.laneWidth),0)}}e.Street=n}},e={};function s(i){var h=e[i];if(void 0!==h)return h.exports;var n=e[i]={exports:{}};return t[i](n,n.exports,s),n.exports}(()=>{const t=s(728),e=s(251);class i{constructor(t,e){this.x=t,this.y=e}}class h{constructor(s){this.playerDestination=null,this.ctx=s,this.topOfStreetY=n.height/10,this.isPlayerSquashed=!1;const i=n.width;this.street=new t.Street(this.topOfStreetY,i).addLane(-1,50).addLane(1,50).addLane(-1,120).addLane(1,120),this.player=new e.Player(i/2,this.street.getStreetWidth()+20+this.topOfStreetY,20,20),document.addEventListener("keydown",this.handleKeyDown.bind(this)),document.addEventListener("mousedown",this.handleMouseDown.bind(this)),document.addEventListener("mouseup",this.handleMouseUp.bind(this)),setInterval((()=>{this.street=this.street.updateObstacles(),this.updateCanvas()}),50),setInterval((()=>{this.street=this.street.generateObstacles()}),1e3)}handleKeyDown(t){if(!this.isPlayerSquashed){switch(t.code){case"ArrowUp":this.player=this.player.moveUp();break;case"ArrowDown":this.player=this.player.moveDown();break;case"ArrowLeft":this.player=this.player.moveLeft();break;case"ArrowRight":this.player=this.player.moveRight()}this.updateCanvas()}}handleMouseDown(t){const e=t.clientX-n.offsetLeft,s=t.clientY-n.offsetTop;this.playerDestination=new i(e,s)}handleMouseUp(t){this.playerDestination=null}navigateToDestination(){if(!this.isPlayerSquashed&&null!==this.playerDestination){const t=this.playerDestination.x,e=this.playerDestination.y,s=t-this.player.x,i=e-this.player.y;Math.abs(s)>Math.abs(i)?this.player=s>0?this.player.moveRight():this.player.moveLeft():this.player=i>0?this.player.moveDown():this.player.moveUp()}}updateCanvas(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.street=this.street.updateObstacles(),this.navigateToDestination(),this.street.detectCollision(this.player.x,this.player.y)&&(this.player=this.player.onCollisionDetected(),this.isPlayerSquashed=!0),this.player.draw(this.ctx),this.ctx.fillText(`x: ${this.player.x}, y: ${this.player.y}`,this.player.x,this.player.y-10),this.street.draw(this.ctx)}}const n=document.getElementById("gameCanvas");if(n){const t=n.getContext("2d");t?new h(t):console.error("Canvas context is null")}else console.error("Canvas element is null")})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBT3pFLE1BQU9NLEtBQUtGLElBQUlxRSxPQUFPeEUsUUFHaEVLLEtBQUtxRSxPQUFTckUsS0FBS3FFLE9BQU9oRCxrQkFHMUJyQixLQUFLcUYsd0JBRURyRixLQUFLcUUsT0FBT3BDLGdCQUFnQmpDLEtBQUtzRSxPQUFPOUUsRUFBR1EsS0FBS3NFLE9BQU83RSxLQUN6RE8sS0FBS3NFLE9BQVN0RSxLQUFLc0UsT0FBT3BFLHNCQUMxQkYsS0FBS29FLGtCQUFtQixHQUkxQnBFLEtBQUtzRSxPQUFPekUsS0FBS0csS0FBS0YsS0FDdEJFLEtBQUtGLElBQUk0RixTQUNQLE1BQU0xRixLQUFLc0UsT0FBTzlFLFNBQVNRLEtBQUtzRSxPQUFPN0UsSUFDdkNPLEtBQUtzRSxPQUFPOUUsRUFDWlEsS0FBS3NFLE9BQU83RSxFQUFJLElBRWxCTyxLQUFLcUUsT0FBT3hFLEtBQUtHLEtBQUtGLElBQ3hCLEVBR0YsTUFBTXFFLEVBQVNJLFNBQVNvQixlQUFlLGNBRXZDLEdBQUl4QixFQUFRLENBQ1YsTUFBTXJFLEVBQU1xRSxFQUFPeUIsV0FBVyxNQUUxQjlGLEVBQ0YsSUFBSW1FLEVBQU1uRSxHQUVWK0YsUUFBUUMsTUFBTSx5QixNQUdoQkQsUUFBUUMsTUFBTSx5QiIsInNvdXJjZXMiOlsid2VicGFjazovL2JldHRlci1icmlkZ2V3YXktYnVpbGRlci8uL3NyYy9wbGF5ZXIudHMiLCJ3ZWJwYWNrOi8vYmV0dGVyLWJyaWRnZXdheS1idWlsZGVyLy4vc3JjL3N0cmVldC50cyIsIndlYnBhY2s6Ly9iZXR0ZXItYnJpZGdld2F5LWJ1aWxkZXIvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vYmV0dGVyLWJyaWRnZXdheS1idWlsZGVyLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUmVwcmVzZW50cyBhIHBsYXllciBpbiB0aGUgZ2FtZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFBsYXllciB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHBsYXllciBpbnN0YW5jZS5cbiAgICogQHBhcmFtIHggVGhlIHgtY29vcmRpbmF0ZSBvZiB0aGUgcGxheWVyJ3MgcG9zaXRpb24uXG4gICAqIEBwYXJhbSB5IFRoZSB5LWNvb3JkaW5hdGUgb2YgdGhlIHBsYXllcidzIHBvc2l0aW9uLlxuICAgKiBAcGFyYW0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSBwbGF5ZXIncyByZWN0YW5nbGUuXG4gICAqIEBwYXJhbSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcGxheWVyJ3MgcmVjdGFuZ2xlLlxuICAgKiBAcGFyYW0gY29sb3IgVGhlIGNvbG9yIG9mIHRoZSBwbGF5ZXIncyByZWN0YW5nbGUuIERlZmF1bHRzIHRvIFwiZ3JlZW5cIi5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSB4OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHk6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgd2lkdGg6IG51bWJlcixcbiAgICBwdWJsaWMgcmVhZG9ubHkgaGVpZ2h0OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IGNvbG9yOiBzdHJpbmcgPSBcImdyZWVuXCIsXG4gICkge31cblxuICAvKipcbiAgICogRHJhd3MgdGhlIHBsYXllciBvbiB0aGUgY2FudmFzLlxuICAgKiBAcGFyYW0gY3R4IFRoZSBjYW52YXMgcmVuZGVyaW5nIGNvbnRleHQgZnJvbSB0aGUgZG9jdW1lbnQuXG4gICAqL1xuICBwdWJsaWMgZHJhdyhjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgIGN0eC5maWxsUmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoYW5nZXMgdGhlIHBsYXllcidzIGNvbG9yIHRvIHJlZCB3aGVuIGEgY29sbGlzaW9uIGlzIGRldGVjdGVkLlxuICAgKi9cbiAgcHVibGljIG9uQ29sbGlzaW9uRGV0ZWN0ZWQoKTogUGxheWVyIHtcbiAgICByZXR1cm4gbmV3IFBsYXllcih0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQsIFwicmVkXCIpO1xuICB9XG5cbiAgcHVibGljIG1vdmVVcCgpOiBQbGF5ZXIge1xuICAgIHJldHVybiBuZXcgUGxheWVyKHRoaXMueCwgdGhpcy55IC0gMTAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLmNvbG9yKTtcbiAgfVxuXG4gIHB1YmxpYyBtb3ZlRG93bigpOiBQbGF5ZXIge1xuICAgIHJldHVybiBuZXcgUGxheWVyKHRoaXMueCwgdGhpcy55ICsgMTAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLmNvbG9yKTtcbiAgfVxuXG4gIHB1YmxpYyBtb3ZlTGVmdCgpOiBQbGF5ZXIge1xuICAgIHJldHVybiBuZXcgUGxheWVyKHRoaXMueCAtIDEwLCB0aGlzLnksIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLmNvbG9yKTtcbiAgfVxuXG4gIHB1YmxpYyBtb3ZlUmlnaHQoKTogUGxheWVyIHtcbiAgICByZXR1cm4gbmV3IFBsYXllcih0aGlzLnggKyAxMCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCwgdGhpcy5jb2xvcik7XG4gIH1cbn1cbiIsIlxuICBleHBvcnQgY29uc3QgZW51bSBMYW5lRGlyZWN0aW9uIHtcbiAgICBMRUZUID0gLTEsXG4gICAgUklHSFQgPSAxLFxuICB9XG4gIFxuICBleHBvcnQgY2xhc3MgT2JzdGFjbGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgcHVibGljIHJlYWRvbmx5IHg6IG51bWJlcixcbiAgICAgIHB1YmxpYyByZWFkb25seSB3aWR0aDogbnVtYmVyLFxuICAgICAgcHVibGljIHJlYWRvbmx5IGhlaWdodDogbnVtYmVyLFxuICAgICAgcHVibGljIHJlYWRvbmx5IHNwZWVkOiBudW1iZXIsXG4gICAgICBwdWJsaWMgcmVhZG9ubHkgZGlyZWN0aW9uOiBMYW5lRGlyZWN0aW9uLFxuICAgICAgcHVibGljIHJlYWRvbmx5IGNvbG9yOiBzdHJpbmcgPSBcImJsYWNrXCIsXG4gICAgKSB7fVxuICBcbiAgICBwdWJsaWMgbW92ZU9ic3RhY2xlKCk6IE9ic3RhY2xlIHtcbiAgICAgIGNvbnN0IG5ld1ggPSB0aGlzLnggKyB0aGlzLnNwZWVkICogdGhpcy5kaXJlY3Rpb247XG4gICAgICByZXR1cm4gbmV3IE9ic3RhY2xlKFxuICAgICAgICBuZXdYLFxuICAgICAgICB0aGlzLndpZHRoLFxuICAgICAgICB0aGlzLmhlaWdodCxcbiAgICAgICAgdGhpcy5zcGVlZCxcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24sXG4gICAgICAgIHRoaXMuY29sb3IsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGV4cG9ydCBjbGFzcyBMYW5lIHtcbiAgICBwcml2YXRlIG9ic3RhY2xlczogT2JzdGFjbGVbXTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgcHVibGljIHJlYWRvbmx5IGRpcmVjdGlvbjogTGFuZURpcmVjdGlvbixcbiAgICAgIHB1YmxpYyByZWFkb25seSBsYW5lV2lkdGg6IG51bWJlciA9IDUwLFxuICAgICAgcHVibGljIHJlYWRvbmx5IHN0cmVldExlbmd0aDogbnVtYmVyLFxuICAgICAgcHVibGljIHJlYWRvbmx5IGNlbnRlclk6IG51bWJlcixcbiAgICAgIG9ic3RhY2xlczogT2JzdGFjbGVbXSA9IFtdLFxuICAgICkge1xuICAgICAgdGhpcy5vYnN0YWNsZXMgPSBvYnN0YWNsZXM7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZE9ic3RhY2xlKG9ic3RhY2xlOiBPYnN0YWNsZSk6IExhbmUge1xuICAgICAgY29uc3QgbmV3T2JzdGFjbGVzID0gWy4uLnRoaXMub2JzdGFjbGVzLCBvYnN0YWNsZV07XG4gICAgICByZXR1cm4gbmV3IExhbmUoXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uLFxuICAgICAgICB0aGlzLmxhbmVXaWR0aCxcbiAgICAgICAgdGhpcy5zdHJlZXRMZW5ndGgsXG4gICAgICAgIHRoaXMuY2VudGVyWSxcbiAgICAgICAgbmV3T2JzdGFjbGVzLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlT2JzdGFjbGVzKCk6IExhbmUge1xuICAgICAgY29uc3QgbmV3T2JzdGFjbGVzID0gdGhpcy5vYnN0YWNsZXNcbiAgICAgICAgLm1hcCgob2JzdGFjbGUpID0+IG9ic3RhY2xlLm1vdmVPYnN0YWNsZSgpKVxuICAgICAgICAuZmlsdGVyKChvYnN0YWNsZSkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLmRpcmVjdGlvbiA9PT0gTGFuZURpcmVjdGlvbi5MRUZUKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JzdGFjbGUueCArIG9ic3RhY2xlLndpZHRoID4gMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG9ic3RhY2xlLnggPCB0aGlzLnN0cmVldExlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgcmV0dXJuIG5ldyBMYW5lKFxuICAgICAgICB0aGlzLmRpcmVjdGlvbixcbiAgICAgICAgdGhpcy5sYW5lV2lkdGgsXG4gICAgICAgIHRoaXMuc3RyZWV0TGVuZ3RoLFxuICAgICAgICB0aGlzLmNlbnRlclksXG4gICAgICAgIG5ld09ic3RhY2xlcyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIGxhbmUgb24gdGhlIGNhbnZhcyB3aXRoIGxhbmUgbGluZXMgYW5kIG9ic3RhY2xlcy5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IC0gVGhlIGNhbnZhcyByZW5kZXJpbmcgY29udGV4dCB0byBkcmF3IG9uLlxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgICAvLyBDYWxjdWxhdGUgdGhlIHRvcCBwb3NpdGlvbiBvZiB0aGUgbGFuZVxuICAgICAgY29uc3QgcG9zaXRpb25ZID0gdGhpcy5jZW50ZXJZIC0gdGhpcy5sYW5lV2lkdGggLyAyO1xuXG4gICAgICAvLyBEcmF3IGxhbmUgbGluZXNcbiAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwiYmxhY2tcIjtcbiAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xuXG4gICAgICAvLyBEcmF3IGxlZnQgbGFuZSBsaW5lXG4gICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICBjdHgubW92ZVRvKDAsIHBvc2l0aW9uWSk7XG4gICAgICBjdHgubGluZVRvKHRoaXMuc3RyZWV0TGVuZ3RoLCBwb3NpdGlvblkpO1xuICAgICAgY3R4LnN0cm9rZSgpO1xuXG4gICAgICAvLyBEcmF3IHJpZ2h0IGxhbmUgbGluZVxuICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgY3R4Lm1vdmVUbygwLCBwb3NpdGlvblkgKyB0aGlzLmxhbmVXaWR0aCk7XG4gICAgICBjdHgubGluZVRvKHRoaXMuc3RyZWV0TGVuZ3RoLCBwb3NpdGlvblkgKyB0aGlzLmxhbmVXaWR0aCk7XG4gICAgICBjdHguc3Ryb2tlKCk7XG5cbiAgICAgIC8vIERyYXcgb2JzdGFjbGVzXG4gICAgICBmb3IgKGNvbnN0IG9ic3RhY2xlIG9mIHRoaXMub2JzdGFjbGVzKSB7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBvYnN0YWNsZS5jb2xvcjtcbiAgICAgICAgY29uc3Qgb2JzdGFjbGVXaWR0aCA9IHRoaXMubGFuZVdpZHRoICogMC43NTtcbiAgICAgICAgY29uc3Qgb2JzdGFjbGVIZWlnaHQgPSBvYnN0YWNsZVdpZHRoICogKG9ic3RhY2xlLmhlaWdodCAvIG9ic3RhY2xlLndpZHRoKTtcbiAgICAgICAgY3R4LmZpbGxSZWN0KFxuICAgICAgICAgIG9ic3RhY2xlLngsXG4gICAgICAgICAgcG9zaXRpb25ZICsgKHRoaXMubGFuZVdpZHRoIC0gb2JzdGFjbGVIZWlnaHQpIC8gMixcbiAgICAgICAgICBvYnN0YWNsZVdpZHRoLFxuICAgICAgICAgIG9ic3RhY2xlSGVpZ2h0LFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERldGVjdHMgY29sbGlzaW9uIGJldHdlZW4gdGhlIHBsYXllciBhbmQgdGhlIG9ic3RhY2xlcyBpbiB0aGUgbGFuZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGxheWVyWCAtIFRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGxheWVyWSAtIFRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZXJlIGlzIGEgY29sbGlzaW9uLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgcHVibGljIGRldGVjdENvbGxpc2lvbihwbGF5ZXJYOiBudW1iZXIsIHBsYXllclk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSB0b3AgcG9zaXRpb24gb2YgdGhlIGxhbmVcbiAgICAgIGNvbnN0IHBvc2l0aW9uWSA9IHRoaXMuY2VudGVyWSAtIHRoaXMubGFuZVdpZHRoIC8gMjtcblxuICAgICAgZm9yIChjb25zdCBvYnN0YWNsZSBvZiB0aGlzLm9ic3RhY2xlcykge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhgcGxheWVyWDogJHtwbGF5ZXJYfSwgcGxheWVyWTogJHtwbGF5ZXJZfSBvYnN0YWNsZTogJHtvYnN0YWNsZS54fSwgJHtvYnN0YWNsZS55fWApO1xuICAgICAgICBpZiAoXG4gICAgICAgICAgcGxheWVyWCA+IG9ic3RhY2xlLnggJiZcbiAgICAgICAgICBwbGF5ZXJYIDwgb2JzdGFjbGUueCArIG9ic3RhY2xlLndpZHRoICYmXG4gICAgICAgICAgcGxheWVyWSA+ICBwb3NpdGlvblkgKyAodGhpcy5sYW5lV2lkdGggLSBvYnN0YWNsZS5oZWlnaHQpIC8gMiAmJlxuICAgICAgICAgIHBsYXllclkgPCAgcG9zaXRpb25ZICsgKHRoaXMubGFuZVdpZHRoIC0gb2JzdGFjbGUuaGVpZ2h0KSAvIDIgKyBvYnN0YWNsZS5oZWlnaHRcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQSBzdHJlZXQgY29uc2lzdHMgb2YgbGFuZXMgdGhhdCB0cmF2ZWwgaG9yaXpvbnRhbGx5IGFjcm9zcyB0aGUgY2FudmFzLlxuICAgKiBUaGUgbGFuZXMgbWF5IGhhdmUgb2JzdGFjbGVzIHRoYXQgdHJhdmVsIGluIHRoZSBzYW1lIGRpcmVjdGlvbiBhcyB0aGUgbGFuZS5cbiAgICogVGhlIG9ic3RhY2xlcyBtYXkgY29uZmxpY3Qgd2l0aCB0aGUgcGxheWVyLlxuICAgKiBAY2xhc3NcbiAgICovXG4gIGV4cG9ydCBjbGFzcyBTdHJlZXQge1xuICAgIHByaXZhdGUgbGFuZXM6IExhbmVbXTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgcHVibGljIHJlYWRvbmx5IHRvcE9mU3RyZWV0WTogbnVtYmVyID0gMCxcbiAgICAgIHB1YmxpYyByZWFkb25seSBzdHJlZXRMZW5ndGg6IG51bWJlciA9IDYwMCxcbiAgICAgIGxhbmVzOiBMYW5lW10gPSBbXSxcbiAgICApIHtcbiAgICAgIHRoaXMubGFuZXMgPSBsYW5lcztcbiAgICB9XG5cbiAgICBwdWJsaWMgYWRkTGFuZShkaXJlY3Rpb246IExhbmVEaXJlY3Rpb24sIGxhbmVXaWR0aDogbnVtYmVyKTogU3RyZWV0IHtcbiAgICAgIGNvbnN0IG5ld0xhbmVzID0gWy4uLnRoaXMubGFuZXMsIG5ldyBMYW5lKFxuICAgICAgICBkaXJlY3Rpb24sXG4gICAgICAgIGxhbmVXaWR0aCxcbiAgICAgICAgdGhpcy5zdHJlZXRMZW5ndGgsXG4gICAgICAgIHRoaXMuZ2V0Q2VudGVyWShsYW5lV2lkdGgpLFxuICAgICAgKV07XG4gICAgICByZXR1cm4gbmV3IFN0cmVldChcbiAgICAgICAgdGhpcy50b3BPZlN0cmVldFksXG4gICAgICAgIHRoaXMuc3RyZWV0TGVuZ3RoLFxuICAgICAgICBuZXdMYW5lcyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRDZW50ZXJZKGxhbmVXaWR0aDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgIGNvbnN0IHN0cmVldFdpZHRoID0gdGhpcy5nZXRTdHJlZXRXaWR0aCgpO1xuICAgICAgcmV0dXJuIHRoaXMudG9wT2ZTdHJlZXRZICsgc3RyZWV0V2lkdGggKyBsYW5lV2lkdGggLyAyO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZW5lcmF0ZU9ic3RhY2xlcygpOiBTdHJlZXQge1xuICAgICAgY29uc3QgcmFuZG9tTGFuZUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGhpcy5sYW5lcy5sZW5ndGgpO1xuICAgICAgY29uc3QgbmV3TGFuZXMgPSB0aGlzLmxhbmVzLm1hcCgobGFuZSwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGluZGV4ID09PSByYW5kb21MYW5lSW5kZXgpIHtcbiAgICAgICAgICAvLyBQbGFjZSBvYnN0YWNsZXMgYXQgdGhlIGJlZ2lubmluZyBvciBlbmQgb2YgdGhlIGxhbmUgYmFzZWQgb24gdGhlIGxhbmUgZGlyZWN0aW9uLlxuICAgICAgICAgIGNvbnN0IG9iamVjdFdpZHRoID0gNDA7XG4gICAgICAgICAgY29uc3Qgb2Zmc2V0T2ZmQ2FudmFzID0gMyAqIG9iamVjdFdpZHRoO1xuICAgICAgICAgIGNvbnN0IHggPVxuICAgICAgICAgICAgbGFuZS5kaXJlY3Rpb24gPT09IExhbmVEaXJlY3Rpb24uTEVGVFxuICAgICAgICAgICAgICA/IGxhbmUuc3RyZWV0TGVuZ3RoICsgb2Zmc2V0T2ZmQ2FudmFzXG4gICAgICAgICAgICAgIDogMCAtIG9mZnNldE9mZkNhbnZhcztcbiAgICAgICAgICByZXR1cm4gbGFuZS5hZGRPYnN0YWNsZShcbiAgICAgICAgICAgIG5ldyBPYnN0YWNsZSh4LCBvYmplY3RXaWR0aCwgMjUsIDUsIGxhbmUuZGlyZWN0aW9uKSxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsYW5lO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gbmV3IFN0cmVldChcbiAgICAgICAgdGhpcy50b3BPZlN0cmVldFksXG4gICAgICAgIHRoaXMuc3RyZWV0TGVuZ3RoLFxuICAgICAgICBuZXdMYW5lcyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIHVwZGF0ZU9ic3RhY2xlcygpOiBTdHJlZXQge1xuICAgICAgY29uc3QgbmV3TGFuZXMgPSB0aGlzLmxhbmVzLm1hcCgobGFuZSkgPT4gbGFuZS51cGRhdGVPYnN0YWNsZXMoKSk7XG4gICAgICByZXR1cm4gbmV3IFN0cmVldChcbiAgICAgICAgdGhpcy50b3BPZlN0cmVldFksXG4gICAgICAgIHRoaXMuc3RyZWV0TGVuZ3RoLFxuICAgICAgICBuZXdMYW5lcyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGV0ZWN0cyBjb2xsaXNpb24gYmV0d2VlbiB0aGUgcGxheWVyIGFuZCB0aGUgb2JzdGFjbGVzIGluIGFsbCBsYW5lcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGxheWVyWCAtIFRoZSB4IGNvb3JkaW5hdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGxheWVyWSAtIFRoZSB5IGNvb3JkaW5hdGUgb2YgdGhlIHBsYXllci5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZXJlIGlzIGEgY29sbGlzaW9uLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICovXG4gICAgcHVibGljIGRldGVjdENvbGxpc2lvbihwbGF5ZXJYOiBudW1iZXIsIHBsYXllclk6IG51bWJlcik6IGJvb2xlYW4ge1xuICAgICAgZm9yIChjb25zdCBsYW5lIG9mIHRoaXMubGFuZXMpIHtcbiAgICAgICAgaWYgKGxhbmUuZGV0ZWN0Q29sbGlzaW9uKHBsYXllclgsIHBsYXllclkpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgc3RyZWV0IG9uIHRoZSBjYW52YXMgd2l0aCBhbGwgbGFuZXMgYW5kIG9ic3RhY2xlcy5cbiAgICAgKiBAcGFyYW0ge0NhbnZhc1JlbmRlcmluZ0NvbnRleHQyRH0gY3R4IC0gVGhlIGNhbnZhcyByZW5kZXJpbmcgY29udGV4dCB0byBkcmF3IG9uLlxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqL1xuICAgIHB1YmxpYyBkcmF3KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XG4gICAgICBmb3IgKGNvbnN0IGxhbmUgb2YgdGhpcy5sYW5lcykge1xuICAgICAgICBsYW5lLmRyYXcoY3R4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U3RyZWV0V2lkdGgoKTogbnVtYmVyIHtcbiAgICAgIHJldHVybiB0aGlzLmxhbmVzLnJlZHVjZShcbiAgICAgICAgKHRvdGFsV2lkdGgsIGxhbmUpID0+IHRvdGFsV2lkdGggKyBsYW5lLmxhbmVXaWR0aCxcbiAgICAgICAgMCxcbiAgICAgICk7XG4gICAgfVxuICB9XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiaW1wb3J0IHsgU3RyZWV0LCBMYW5lRGlyZWN0aW9uIH0gZnJvbSBcIi4vc3RyZWV0XCI7XG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9wbGF5ZXJcIjtcbi8qKlxuICogUmVwcmVzZW50cyBhIHBvaW50IG9uIHRoZSBjYW52YXMgd2l0aCB4IGFuZCB5IGNvb3JkaW5hdGVzLlxuICovXG5jbGFzcyBQb2ludCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyByZWFkb25seSB4OiBudW1iZXIsXG4gICAgcHVibGljIHJlYWRvbmx5IHk6IG51bWJlcixcbiAgKSB7fVxufVxuXG4vKipcbiAqIFRoZSBTY2VuZSBjbGFzcyBtYW5hZ2VzIHRoZSByZW5kZXJpbmcgb2YgdGhlIGNhbnZhcyBmb3IgdGhlIGdhbWUsIFxuICogYXMgd2VsbCBhcyB0aGUgc3RyZWV0IGFuZCBwbGF5ZXIgb2JqZWN0cy5cbiAqL1xuY2xhc3MgU2NlbmUge1xuICBwcml2YXRlIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuICBwcml2YXRlIHN0cmVldDogU3RyZWV0O1xuICBwcml2YXRlIHBsYXllcjogUGxheWVyO1xuICBwcml2YXRlIHRvcE9mU3RyZWV0WTogbnVtYmVyO1xuICBwcml2YXRlIGlzUGxheWVyU3F1YXNoZWQ6IGJvb2xlYW47XG4gIHByaXZhdGUgcGxheWVyRGVzdGluYXRpb246IFBvaW50IHwgbnVsbCA9IG51bGw7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgU2NlbmUgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSBjdHggLSBUaGUgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHRvIHVzZSBmb3IgcmVuZGVyaW5nLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcbiAgICB0aGlzLmN0eCA9IGN0eDtcbiAgICB0aGlzLnRvcE9mU3RyZWV0WSA9IGNhbnZhcy5oZWlnaHQgLyAxMDtcbiAgICB0aGlzLmlzUGxheWVyU3F1YXNoZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0IHN0cmVldExlbmd0aCA9IGNhbnZhcy53aWR0aDtcbiAgICBjb25zdCB2ZWhpY2xlTGFuZVdpZHRoID0gMTIwO1xuICAgIGNvbnN0IGJpa2VMYW5lV2lkdGggPSA1MDtcblxuICAgIC8vIENyZWF0ZSB0aGUgc3RyZWV0IG9iamVjdCB3aXRoIGZvdXIgbGFuZXMsIHR3byBmb3IgdmVoaWNsZXMgYW5kIHR3byBmb3IgYmlrZXMuXG4gICAgdGhpcy5zdHJlZXQgPSBuZXcgU3RyZWV0KHRoaXMudG9wT2ZTdHJlZXRZLCBzdHJlZXRMZW5ndGgpXG4gICAgICAuYWRkTGFuZShMYW5lRGlyZWN0aW9uLkxFRlQsIGJpa2VMYW5lV2lkdGgpXG4gICAgICAuYWRkTGFuZShMYW5lRGlyZWN0aW9uLlJJR0hULCBiaWtlTGFuZVdpZHRoKVxuICAgICAgLmFkZExhbmUoTGFuZURpcmVjdGlvbi5MRUZULCB2ZWhpY2xlTGFuZVdpZHRoKVxuICAgICAgLmFkZExhbmUoTGFuZURpcmVjdGlvbi5SSUdIVCwgdmVoaWNsZUxhbmVXaWR0aCk7XG5cbiAgICAvLyBDcmVhdGUgdGhlIHBsYXllciBvYmplY3QgaW4gdGhlIG1pZGRsZSBvZiB0aGUgc3RyZWV0LlxuICAgIGNvbnN0IHBsYXllclNpemUgPSAyMDtcbiAgICB0aGlzLnBsYXllciA9IG5ldyBQbGF5ZXIoXG4gICAgICBzdHJlZXRMZW5ndGggLyAyLFxuICAgICAgdGhpcy5zdHJlZXQuZ2V0U3RyZWV0V2lkdGgoKSArIHBsYXllclNpemUgKyB0aGlzLnRvcE9mU3RyZWV0WSxcbiAgICAgIHBsYXllclNpemUsXG4gICAgICBwbGF5ZXJTaXplLFxuICAgICk7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIGtleWJvYXJkIGlucHV0IHRvIG1vdmUgdGhlIHBsYXllci5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLmhhbmRsZUtleURvd24uYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmhhbmRsZU1vdXNlRG93bi5iaW5kKHRoaXMpKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLmhhbmRsZU1vdXNlVXAuYmluZCh0aGlzKSk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIGdhbWUgZXZlcnkgNTAgbWlsbGlzZWNvbmRzLlxuICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgIHRoaXMuc3RyZWV0ID0gdGhpcy5zdHJlZXQudXBkYXRlT2JzdGFjbGVzKCk7XG4gICAgICB0aGlzLnVwZGF0ZUNhbnZhcygpO1xuICAgIH0sIDUwKTtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLnN0cmVldCA9IHRoaXMuc3RyZWV0LmdlbmVyYXRlT2JzdGFjbGVzKCk7XG4gICAgfSwgMTAwMCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlcyBrZXlib2FyZCBpbnB1dCB0byBtb3ZlIHRoZSBwbGF5ZXIuXG4gICAqIEBwYXJhbSBldmVudCAtIFRoZSBLZXlib2FyZEV2ZW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGtleSBwcmVzcy5cbiAgICovXG4gIHByaXZhdGUgaGFuZGxlS2V5RG93bihldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgIGlmICghdGhpcy5pc1BsYXllclNxdWFzaGVkKSB7XG4gICAgICBzd2l0Y2ggKGV2ZW50LmNvZGUpIHtcbiAgICAgICAgY2FzZSBcIkFycm93VXBcIjpcbiAgICAgICAgICB0aGlzLnBsYXllciA9IHRoaXMucGxheWVyLm1vdmVVcCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQXJyb3dEb3duXCI6XG4gICAgICAgICAgdGhpcy5wbGF5ZXIgPSB0aGlzLnBsYXllci5tb3ZlRG93bigpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQXJyb3dMZWZ0XCI6XG4gICAgICAgICAgdGhpcy5wbGF5ZXIgPSB0aGlzLnBsYXllci5tb3ZlTGVmdCgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiQXJyb3dSaWdodFwiOlxuICAgICAgICAgIHRoaXMucGxheWVyID0gdGhpcy5wbGF5ZXIubW92ZVJpZ2h0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudXBkYXRlQ2FudmFzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgbW91c2UgaW5wdXQgdG8gbW92ZSB0aGUgcGxheWVyIHRvd2FyZHMgdGhlIHBvaW50IGJlaW5nIGNsaWNrZWQuXG4gICAqIEBwYXJhbSBldmVudCAtIFRoZSBNb3VzZUV2ZW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIG1vdXNlIGNsaWNrLlxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVNb3VzZURvd24oZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBjb25zdCB4ID0gZXZlbnQuY2xpZW50WCAtIGNhbnZhcy5vZmZzZXRMZWZ0O1xuICAgIGNvbnN0IHkgPSBldmVudC5jbGllbnRZIC0gY2FudmFzLm9mZnNldFRvcDtcbiAgICB0aGlzLnBsYXllckRlc3RpbmF0aW9uID0gbmV3IFBvaW50KHgsIHkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgbW91c2UgaW5wdXQgdG8gc2V0IHRoZSBwbGF5ZXIgZGVzdGluYXRpb24gdG8gbnVsbCB3aGVuIHRoZSBtb3VzZSBidXR0b24gaXMgcmVsZWFzZWQuXG4gICAqIEBwYXJhbSBldmVudCAtIFRoZSBNb3VzZUV2ZW50IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIG1vdXNlIGNsaWNrLlxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVNb3VzZVVwKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgdGhpcy5wbGF5ZXJEZXN0aW5hdGlvbiA9IG51bGw7XG4gIH1cblxuICAvKipcbiAgICogTmF2aWdhdGVzIHRoZSBwbGF5ZXIgdG8gdGhlaXIgZGVzdGluYXRpb24gaWYgdGhleSBhcmUgbm90IHNxdWFzaGVkIGFuZCBhIGRlc3RpbmF0aW9uIGlzIHNldC5cbiAgICogVGhpcyBpcyB1c2VmdWwgZm9yIHRvdWNoIGlucHV0IGZvciBtb2JpbGUgZGV2aWNlcy5cbiAgICogQHJldHVybnMgdm9pZFxuICAgKi9cbiAgcHJpdmF0ZSBuYXZpZ2F0ZVRvRGVzdGluYXRpb24oKSB7XG4gICAgaWYgKCF0aGlzLmlzUGxheWVyU3F1YXNoZWQgJiYgdGhpcy5wbGF5ZXJEZXN0aW5hdGlvbiAhPT0gbnVsbCkge1xuICAgICAgY29uc3QgeCA9IHRoaXMucGxheWVyRGVzdGluYXRpb24ueDtcbiAgICAgIGNvbnN0IHkgPSB0aGlzLnBsYXllckRlc3RpbmF0aW9uLnk7XG4gICAgICBjb25zdCBkeCA9IHggLSB0aGlzLnBsYXllci54O1xuICAgICAgY29uc3QgZHkgPSB5IC0gdGhpcy5wbGF5ZXIueTtcblxuICAgICAgaWYgKE1hdGguYWJzKGR4KSA+IE1hdGguYWJzKGR5KSkge1xuICAgICAgICBpZiAoZHggPiAwKSB7XG4gICAgICAgICAgdGhpcy5wbGF5ZXIgPSB0aGlzLnBsYXllci5tb3ZlUmlnaHQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnBsYXllciA9IHRoaXMucGxheWVyLm1vdmVMZWZ0KCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChkeSA+IDApIHtcbiAgICAgICAgICB0aGlzLnBsYXllciA9IHRoaXMucGxheWVyLm1vdmVEb3duKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5wbGF5ZXIgPSB0aGlzLnBsYXllci5tb3ZlVXAoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjYW52YXMgd2l0aCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZ2FtZS5cbiAgICogQ2FsbGVkIHBlcmlvZGljYWxseSwgdGhpcyBmdW5jdGlvbiBjbGVhcnMgdGhlIGNhbnZhcywgXG4gICAqIHVwZGF0ZXMgdGhlIHN0cmVldCBhbmQgcGxheWVyIG9iamVjdHMsIGFuZCBkcmF3cyB0aGVtLlxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVDYW52YXMoKSB7XG4gICAgLy8gQ2xlYXIgdGhlIGNhbnZhcy5cbiAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jdHguY2FudmFzLndpZHRoLCB0aGlzLmN0eC5jYW52YXMuaGVpZ2h0KTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgc3RyZWV0IG9ic3RhY2xlcy5cbiAgICB0aGlzLnN0cmVldCA9IHRoaXMuc3RyZWV0LnVwZGF0ZU9ic3RhY2xlcygpO1xuXG4gICAgLy8gbW92ZSB0byB0aGUgcG9zaXRpb24gaWYgY29udHJvbHMgaW5zdHJ1Y3QgdG8gZG8gc29cbiAgICB0aGlzLm5hdmlnYXRlVG9EZXN0aW5hdGlvbigpO1xuXG4gICAgaWYgKHRoaXMuc3RyZWV0LmRldGVjdENvbGxpc2lvbih0aGlzLnBsYXllci54LCB0aGlzLnBsYXllci55KSkge1xuICAgICAgdGhpcy5wbGF5ZXIgPSB0aGlzLnBsYXllci5vbkNvbGxpc2lvbkRldGVjdGVkKCk7XG4gICAgICB0aGlzLmlzUGxheWVyU3F1YXNoZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIERyYXcgdGhlIHBsYXllciBhbmQgc3RyZWV0LlxuICAgIHRoaXMucGxheWVyLmRyYXcodGhpcy5jdHgpO1xuICAgIHRoaXMuY3R4LmZpbGxUZXh0KFxuICAgICAgYHg6ICR7dGhpcy5wbGF5ZXIueH0sIHk6ICR7dGhpcy5wbGF5ZXIueX1gLFxuICAgICAgdGhpcy5wbGF5ZXIueCxcbiAgICAgIHRoaXMucGxheWVyLnkgLSAxMCxcbiAgICApO1xuICAgIHRoaXMuc3RyZWV0LmRyYXcodGhpcy5jdHgpO1xuICB9XG59XG5cbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZUNhbnZhc1wiKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcblxuaWYgKGNhbnZhcykge1xuICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gIGlmIChjdHgpIHtcbiAgICBuZXcgU2NlbmUoY3R4KTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKFwiQ2FudmFzIGNvbnRleHQgaXMgbnVsbFwiKTtcbiAgfVxufSBlbHNlIHtcbiAgY29uc29sZS5lcnJvcihcIkNhbnZhcyBlbGVtZW50IGlzIG51bGxcIik7XG59XG4iXSwibmFtZXMiOlsiUGxheWVyIiwiY29uc3RydWN0b3IiLCJ4IiwieSIsIndpZHRoIiwiaGVpZ2h0IiwiY29sb3IiLCJkcmF3IiwiY3R4IiwiZmlsbFN0eWxlIiwidGhpcyIsImZpbGxSZWN0Iiwib25Db2xsaXNpb25EZXRlY3RlZCIsIm1vdmVVcCIsIm1vdmVEb3duIiwibW92ZUxlZnQiLCJtb3ZlUmlnaHQiLCJMYW5lRGlyZWN0aW9uIiwiT2JzdGFjbGUiLCJzcGVlZCIsImRpcmVjdGlvbiIsIm1vdmVPYnN0YWNsZSIsIm5ld1giLCJMYW5lIiwibGFuZVdpZHRoIiwic3RyZWV0TGVuZ3RoIiwiY2VudGVyWSIsIm9ic3RhY2xlcyIsImFkZE9ic3RhY2xlIiwib2JzdGFjbGUiLCJuZXdPYnN0YWNsZXMiLCJ1cGRhdGVPYnN0YWNsZXMiLCJtYXAiLCJmaWx0ZXIiLCJwb3NpdGlvblkiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsIm9ic3RhY2xlV2lkdGgiLCJvYnN0YWNsZUhlaWdodCIsImRldGVjdENvbGxpc2lvbiIsInBsYXllclgiLCJwbGF5ZXJZIiwiU3RyZWV0IiwidG9wT2ZTdHJlZXRZIiwibGFuZXMiLCJhZGRMYW5lIiwibmV3TGFuZXMiLCJnZXRDZW50ZXJZIiwic3RyZWV0V2lkdGgiLCJnZXRTdHJlZXRXaWR0aCIsImdlbmVyYXRlT2JzdGFjbGVzIiwicmFuZG9tTGFuZUluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwibGVuZ3RoIiwibGFuZSIsImluZGV4Iiwib2JqZWN0V2lkdGgiLCJvZmZzZXRPZmZDYW52YXMiLCJyZWR1Y2UiLCJ0b3RhbFdpZHRoIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJQb2ludCIsIlNjZW5lIiwicGxheWVyRGVzdGluYXRpb24iLCJjYW52YXMiLCJpc1BsYXllclNxdWFzaGVkIiwic3RyZWV0IiwicGxheWVyIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlS2V5RG93biIsImJpbmQiLCJoYW5kbGVNb3VzZURvd24iLCJoYW5kbGVNb3VzZVVwIiwic2V0SW50ZXJ2YWwiLCJ1cGRhdGVDYW52YXMiLCJldmVudCIsImNvZGUiLCJjbGllbnRYIiwib2Zmc2V0TGVmdCIsImNsaWVudFkiLCJvZmZzZXRUb3AiLCJuYXZpZ2F0ZVRvRGVzdGluYXRpb24iLCJkeCIsImR5IiwiYWJzIiwiY2xlYXJSZWN0IiwiZmlsbFRleHQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJjb25zb2xlIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9